(function(e){var b;var a;var g,d,c;var f=e('<div style="cursor: crosshair; position: absolute; background: #000;opacity:0;filter:Alpha(Opacity=0); z-index: 20000;"></div>');e(function(){e("body").append(f);f.mouseover(function(){b.show()}).mouseout(function(){b.hide();f.hide()}).mousemove(function(j){var i=j.pageX-d.left;var k=j.pageY-d.top;var h={backgroundPosition:((i/g.width)*-(c.width-a.width))+"px "+((k/g.height)*-(c.height-a.height))+"px"};if(b.attr("id")=="huy-magnifier"){h.left=j.pageX-a.width/2;h.top=j.pageY-a.height/2}b.css(h)})});e.fn.magnify=function(h){var j;if(h.zoomImageContainer){j=e(h.zoomImageContainer)}else{j=e("#huy-magnifier");if(!j.length){j=e("<div id='huy-magnifier' style='overflow:hidden;position:absolute;display:none;z-index: 10000; background: none 0 0 no-repeat;'></div>").appendTo("body")}}var i={width:j.width(),height:j.height()};this.each(function(){var k=e(this);jQuery("<img />").attr("src",this.getAttribute("rel"));k.mouseover(function(){d=k.offset();g={width:k.width(),height:k.height()};c={width:h.bigWidth,height:h.bigHeight};b=j;a=i;f.css({top:d.top,left:d.left,width:g.width,height:g.height}).unbind("click").click(function(){k.click()}).show();j.css("background-image","url("+this.getAttribute("rel")+")")})});return this}})(jQuery);